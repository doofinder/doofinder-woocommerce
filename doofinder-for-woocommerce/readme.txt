=== DOOFINDER Search and Discovery for WP & WooCommerce ===
Contributors: Doofinder
Tags: search, autocomplete
Version: 2.9.1
Requires at least: 5.6
Tested up to: 6.8
Requires PHP: 7.0
Stable tag: 2.9.1
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

This plugin integrates the Doofinder search service with your WordPress site.

== Introduction ==

Upgrade your eCommerce site with our advanced product search for WooCommerce. Install our search plugin in just 5 minutes, with no programming skills required! Experience the power of Doofinder's AI search today!

[Doofinder sign up](https://www.doofinder.com/signup?utm_campaign=Content&utm_source=WooCommerce%20Profile&utm_content=Doofinder%20Sign%20Up) | [Demo Store](https://woocommerce.doofinder.com) | [Installation Steps](https://support.doofinder.com/plugins/woocommerce/installation-guide/installation-steps-woocommerce.html)

https://www.youtube.com/watch?v=4D5hgYQpWHk

== Description ==

Increase your WooCommerce store's conversion rates by up to 30% using our AI-driven search plugin for WordPress. Simplify the shopping experience for your customers with results in less than 0.025 seconds and personalized recommendations, cutting down on conversion time. Enhance user satisfaction with our lightning-fast search bar, voice, and image search options, advanced search by category feature, and intuitive product filters. Our plugin seamlessly integrates with Elementor, providing a smooth Ajax product search experience, a motive to upgrade your WordPress site today with our search and discovery solution, and see the difference in your online store!

== Features ==

-   ðŸ” **Intelligent Product Filters**: Allow shoppers to effortlessly navigate through your catalog with our intuitive default and customizable filters.
-   ðŸ” **Searchandising**: Create rules to prioritize products within your search results.
-   ðŸ“± **Mobile First**: Enjoy a specialized mobile search mode crafted for an optimal user experience.
-   ðŸ”ðŸ—£ï¸ **Multiple Ways to Search**: Empower users to search via voice, text, or imageâ€”whichever suits their preference.
-   ðŸ“Š **Real-Time Analytics**: Gain valuable insights into user behavior and geolocation data.
-   ðŸ”€ **Multi-Index & Redirections**: Set up pre-configured results, seamlessly redirecting users to relevant pages based on their search query.
-   ðŸŽ¨ **Respect Your Theme Design**: Ensure seamless integration with your existing design aesthetic.
-   ðŸ”¡ **Typo-Tolerance & Synonyms**: Enhance search accuracy with typo tolerance and synonym recognition.
-   ðŸ”® **Predictive Search Suggestions**: Anticipate user needs with relevant search suggestions.
-   ðŸ–¼ï¸ **Customizable Appearance**: Tailor the layout and design of product cards to suit your brand.
-   ðŸŽ‰ **Promotional Banners**: Highlight special offers and promotions within search results to enhance your product merchandising.
-   ðŸŒ **Multi-language and Multi-currency Support**: Reach a global audience with support for over 30 languages and currencies.
-   ðŸ› ï¸ **Technical Support**: Ensure continuous growth with a technical support team thatâ€™s always ready to help.
-   ðŸ§¥ðŸ‘—**AI Product recommendation carousels**: Guide users to products they'll love and maximize cross-selling with our AI-powered recommendations.

== Requirements ==

**Important**: To use this plugin you need to have an account with Doofinder. If you don't have an account, you can sign up [here](http://www.doofinder.com/signup?utm_campaign=Content&utm_source=WooCommerce%20Profile&utm_content=Doofinder%20Sign%20Up) to start your 30-day free trial period.

The minimum technical requirements are the same as the WordPress ones.

== Configuration ==

**One-Click Indexing of All WordPress Content**

Check out our support page and follow the steps for installation: [go to the support page!](https://support.doofinder.com/plugins/woocommerce/installation-guide/pre-requisites-woocommerce.html)

**NOTICE**:

Doofinder for WordPress comes with built-in support for [WPML](https://wpml.org/). If you're using it, make sure you've switched to one of the defined languages. If you stay in the "All Languages" context, you won't be able to set up anything. You'll need to set up a search engine for each language on your site.

== General Settings ==

You will see that the installation is very simple, but to make it easier you should familiarize yourself with some basic concepts.

-   **API Key**: This is the secret code you use to organize content (in machine learning setups, you can share the same code). You can find your API key in the Doofinder Control Panel. Click on your profile name (at the top) and then on API Keys. Make sure you're using a Management API key, not a Search API key.
-   **Search Engine HashID**: This is the ID of the search engine that will organize your content. You can find it in the Doofinder Control Panel. Click on Search Engines in the top menu. The Hash ID will be shown next to the name of your Search Engine. Remember to use different search engines for different languages if you're in a machine-learning environment.
-   **Update on Save**: This is the time it takes for posts/products to be refreshed after you make a change.
-   **JS Layer Script**: Here, you can adjust the Layer JavaScript Code. The JavaScript Layer needs it to work properly.

Visit our Support Documentation for detailed steps. [https://support.doofinder.com/plugins/woocommerce/installation-guide/installation-steps-woocommerce.html](https://support.doofinder.com/plugins/woocommerce/installation-guide/installation-steps-woocommerce.html)

== Installation ==

**Important**: If upgrading to v0.4.x or greater from v0.3.x or lower, deactivate the plugin and reactivate it to migrate your settings.

The installation and activation process for Doofinder is the same as any other [WordPress plugin](https://codex.wordpress.org/Managing_Plugins).


**Pre-Requisites**:

-   WordPress installed (required).
-   WordPress version is compatible with Application Passwords (minimum version 5.6) and PHP (minimum version 7.0).
-   WooCommerce plugin installed and activated.
-   WordPress and WooCommerce APIs are active and accessible.

Additionally, you'll need a Doofinder account. If you don't have one yet, you can sign up [here](http://www.doofinder.com/signup?utm_campaign=Content&utm_source=WooCommerce%20Profile&utm_content=Doofinder%20Sign%20Up) to start your 30-day free trial. Or, you can also do this during the installation process.


**You have two options to install the plugin**:

1.  In the WordPress admin panel, navigate to Plugins > Add New. Click on "Upload Plugin." Select the *.zip file containing the plugin, and then click "Install Now."
2.  Alternatively, you can unpack the contents of the *.zip file containing the plugin to the plugins folder. In a standard WordPress installation, this folder is typically located at "/wp-content/plugins."


Here you can find a more detailed [installation guide](https://support.doofinder.com/plugins/woocommerce/installation-guide/installation-steps-woocommerce.html).

== Frequently Asked Questions ==

= How can I install the Doofinder Search and Discovery Module in my WooCommerce? =
Check out our video tutorial: Installation Guide.

https://www.youtube.com/watch?v=rNRH7jb_So8

Or visit our Support Documentation for detailed steps. [https://support.doofinder.com/plugins/woocommerce/installation-guide/installation-steps-woocommerce.html](https://support.doofinder.com/plugins/woocommerce/installation-guide/installation-steps-woocommerce.html)

= Once installed, where can I find the Module? =

Once installed, you can find the Module within your WooCommerce admin panel. Look for the 'Doofinder' option to access and review your plugin's general settings.

= Does Doofinder offer a search bar that can be integrated into my theme? =

It's important to note that Doofinder doesn't include the search bar by default. You'll need to add it to your store's theme or design by activating Doofinder's layer via a CSS selector.

= Can I use Doofinder in WordPress only? =

The Doofinder plugin can be used on your WordPress site for searching blog posts and/or on your WooCommerce site for searching products. Depending on your site's setup, Doofinder will index either one or both types of content.

= Is the plugin compatible with WordPress multisite? =

Yes, the Doofinder plugin is compatible with WordPress multisite.

= Where can I access more detailed information about Doofinder and its features? =

For in-depth insights into Doofinder and its features, check out our comprehensive Support Documentation site. You'll find video tutorials, step-by-step guides, and tips for optimizing your use of Doofinder to enhance your online store.

= How can I report security bugs? =
You can report security bugs through the Patchstack Vulnerability Disclosure Program. The Patchstack team help validate, triage and handle any security vulnerabilities. [Report a security vulnerability.](https://patchstack.com/database/vdp/doofinder-for-woocommerce)

== Changelog ==

= 2.9.1 =
- Prevent loading Klaviyo-related JS if Klaviyo plugin is not enabled.
- Avoid calling Setup Wizard after finishing the initial setup.

= 2.9.0 =
- Fixed a bug when retrieving and saving data from the Store Wizard with WPML plugin active.

= 2.8.2 =
- Fix bug that didn't allow to group variants.

= 2.8.1 =
- Index `simple` products that have a `parent_id` set.

= 2.8.0 =
- Add `blog_id` and schemaless `url` to installation options for store identification.

= 2.7.15 =
- Small fix in the integrations logic (particularly with Klaviyo).

= 2.7.14 =
- Fixed an issue where parent product links and prices were not consistently being overwritten with those of the cheapest variant.
- Fixed an issue with detecting WooCommerce product attributes.

= 2.7.13 =
- Simplified integrations logic, moved most of the code to the single script.

= 2.7.12 =
- Index type field for products.

= 2.7.11 =
- Added categories default value.

= 2.7.10 =
- Send complete store options when updating the module to use df token.

= 2.7.9 =
- Included Log class in `use` statement.

= 2.7.8 =
- Include parent category paths in the `category_merchandising` field.

= 2.7.7 =
- Remove slashes from `category_merchandising` slugs.

= 2.7.6 =
- The `category_merchandising` field has been added to the indexing parameters.

= 2.7.5 =
- Bugfix in Store Wizard for WordPress versions below 5.7 .

= 2.7.4 =
- Bugfix in Store Wizard if no multiplang plugin is present.

= 2.7.3 =
- Improve Search Engine creation for languages with the same ISO code, but different country (e.g. pt-PT and pt-BR).

= 2.7.2 =
- Prevent error when `process_variations` and `$variation` is `null`.

= 2.7.1 =
- Added support for Klaviyo.

= 2.7.0 =
- Added support to Asia-Pacific region.

= 2.6.2 =
- Bugfix update on save doesn't update custom attributes.

= 2.6.1 =
- Added region validation.

= 2.6.0 =
- Remove old config URL.

= 2.5.22 =
- Taken into account scheduled date ranges for sale prices in custom endpoint.

= 2.5.21 =
- Avoid setting a price of 0 when the regular price is 0.

= 2.5.20 =
- Prevented an error when the $image_sizes array is not initialized.

= 2.5.19 =
- Prevented errors if the prices come as false instead of 0.
- Actually solved an issue regarding indices normalization on multilanguages.

= 2.5.18 =
- Added custom Doofinder logo to the sidebar menu item.
- Solved an issue regarding indices normalization on multilanguages.

= 2.5.17 =
- Fixed update on save in multi-lang.
- Solved bug regarding HTML escaping in error output + undefined variable.

= 2.5.16 =
- Changed "search bar" references to "script".

= 2.5.15 =
- Fixed indexation of custom attributes for WooCommerce products.

= 2.5.14 =
- Added the possibility to index custom metadata on custom post types.
- Fixed an issue with the df_variants_information that were not using the custom naming from the settings.

= 2.5.13 =
- Fixed an issue with the nonce verification in the store wizard.

= 2.5.12 =
- Fixed issue with dashes in some custom attributes.

= 2.5.11 =
- Fixed issue with Helper class.

= 2.5.10 =
- Fixed issue with sale_price when it is equal to the regular price.

= 2.5.9 =
- Removed duplicated Helper class and unified methods into a single file.

= 2.5.8 =
- Fixed issue with sale_price field during indexation.

= 2.5.7 =
- Fixed update on save cron not working as expected.

= 2.5.6 =
- Fixed attribute not exported when they are empty values.

= 2.5.5 =
- Fixed top level menu name.

= 2.5.4 =
- Fixed other Settings namespace issues.

= 2.5.3 =
- Fixed issues with Settings namespace.

= 2.5.2 =
- Fixed issue with cron_schedules.

= 2.5.1 =
- Changed README + bugfix when retrieving image link.

= 2.5.0 =
- Removed Conversion Pages (formerly known as Landing Pages) from the code + code refactor.

= 2.4.8 =
- Fixed a bug in the indexing of posts when they have no images.

= 2.4.7 =
- Fixed a bug in the reserved field names message.

= 2.4.6 =
- Generate callback without depending on friendly urls.

= 2.4.5 =
- Tested in WordPress 6.6.1 and applied full automatic reformat according to the WordPress PHP coding standards.

= 2.4.4 =
- Array initialization bugfix.

= 2.4.3 =
- Bugfix, added array checking on attributes data for PHP >= 8.0.

= 2.4.2 =
- Bugfix, added array checking on attributes data.

= 2.4.1 =
- Attributes are now returned as strings instead of being arrays.

= 2.4.0 =
- Improved Doofinder script injection and retrieval.

= 2.3.2 =
- Start indexing parent product with URL of the minimum priced variant.

= 2.3.1 =
- Updated readme.txt

= 2.3.0 =
- Added a new internal feature to implement changes in the Doofinder script.

= 2.2.24 =
- Fix error due to missing index on $product array

= 2.2.23 =
- Populate sale_price on parent variation for the custom product endpoint.

= 2.2.22 =
- Plugin name, description, images and other public resources have been updated.

= 2.2.21 =
- Fix performance issues related with Landing Pages rewrite_rules.

= 2.2.20 =
- Fix update checker.

= 2.2.19 =
- Fix lang code on installation

= 2.2.18 =
- Fixed fatal error regarding direct WP_Http class.
- Fixed error on the product endpoint when the links are unset

= 2.2.17 =
- Fixed WPDB query in the update on save.

= 2.2.16 =
- Improved script injection in languages with different suffixes.
- Fixed api bug in image link generate from custom type indices.

= 2.2.15 =
Added some error logs to help debugging indexing errors while obtaining images.

= 2.2.14 =
Improved getting pages images

= 2.2.13 =
Improved add to cart response handling.

= 2.2.12 =
Clarify behaviour of update on save configuration, hide update now button when disabled.

= 2.2.11 =
Fixed a bug related to posts/pages title encoding

= 2.2.10 =
Changed stable tag information in the readme.txt
Escaped / as // to prevent issues in the faceted search

= 2.2.9 =
Changed log directory to /WP_CONTENT_FOLDER/uploads/doofinder-logs to avoid permission issues
Fixed a bug in Force Normalization when the language code has language and country (e.g. pt-PT)

= 2.2.8 =
Fixed a bug excluding the attributes of the variants of the parent product

= 2.2.7 =
Fixed a bug that caused some stores to be created without a name.
Exclude the attributes of the variants of the parent product

= 2.2.6 =
Added minor improvements.

= 2.2.5 =
Fixed endpoint registration issue, added checks in Thumbnails class to suppress warnings, and implemented handling to ignore invalid WooCommerce products during indexing.

= 2.2.4 =
Restore the use of credentials api

= 2.2.3 =
Fix an issue that happened when a custom attribute had nested arrays without the key "name" deleting the whole custom attribute
Get the sale price even when WC_Product->get_sale_price fails.

= 2.2.2 =
Fix an issue while setting search engine hashid and some notice styles issues.

= 2.2.1 =
Fix some migrate issues.

= 2.2.0 =
Refactoring the code and applying the calls to the new service.

= 2.1.18 =
Prevent stock_status field removal from the final response

= 2.1.17 =
Fixes some issues detected if it is used along with WPML plugin

= 2.1.16 =
Fixes wrongly decoded HTML entities for custom attributes (e.g. &amp; instead of &)

= 2.1.15 =
Improve JS and CSS secure load

= 2.1.14 =
Remove filter indexation field

= 2.1.13 =
Fix typo.

= 2.1.12 =
Added stock_status to custom_attributes reserved field names.

= 2.1.11 =
Fix renamed metadatafields and plugin attributes fields

= 2.1.9 =
Add basic attributes and plugin attributes to response
Fix corrupts images in custom endpoint
Improve XSS secure

= 2.1.8 =
Fix possible XSS issue

= 2.1.7 =
Fix problem with product attributes with taxonomy

= 2.1.6 =
Add permission_callback in API endpoints
Fix renamed custom attributes

= 2.1.5 =
Added FAQ section.

= 2.1.4 =
Check if regular price is empty

= 2.1.3 =
Set product price correctly and check if product has a corrupted image

= 2.1.2 =
Added initial indexation status check timeout.

= 2.1.1 =
Update on save refactor and add fields tu custom endpoints

= 2.1.0 =
New internal endpoints to obtain products, posts, pages and custom items.
Refactor in custom attributes management.
Secure authentication via token in headers.

= 2.0.34 =
Improved security in Ajax calls.

= 2.0.33 =
New functionality added: Conversion pages.

= 2.0.32 =
Adjusted minimum requirements to install the plugin.

= 2.0.31 =
Fixed a bug while processing the indices normalization response.

= 2.0.30 =
Fix issues while migrating api-host.

= 2.0.29 =
Fix issues with zero prices.

= 2.0.28 =
Fix store payload in wordpress case

= 2.0.27 =
Changes required for the new functionality "Indexable customs posts types".

= 2.0.26 =
Fix cleaning logs in update script

= 2.0.25 =
Fix of several problems with migration when it is multi-language

= 2.0.24.1 =
Fix log cleaning

= 2.0.24 =
Added Log cleaning and normalization.

= 2.0.23 =
Added changes to return prices applying base location taxes.

= 2.0.22 =
Fix migration update in old clients.

= 2.0.21 =
Fix data indexing completion loading.

= 2.0.20 =
Fix issues while obtaining the intermediate image.

= 2.0.19 =
Fixed a bug while registering custom cron_schedules.

= 2.0.18 =
Fix bug that was saving non-indexable post types in the database in doofinder_update_on_save

= 2.0.17 =
Fix visual bug in Product Data Settings.

= 2.0.16 =
Added Image Size selector to Product Data Settingsa and fixed 'update on save' issue.

= 2.0.15 =
Improvements in REST custom fields.

= 2.0.14 =
Fix init issues.

= 2.0.13 =
Added custom fields settings.

= 2.0.12 =
Fixed relative image urls.

= 2.0.11 =
Added some improvements in REST API Handler

= 2.0.10 =
Fixed an issue while generating missing thumbnails and other minor bugfixes.

= 2.0.9 =
Fixed issues with price format and taxes.

= 2.0.8 =
Added button to reset credentials if you are Administrator

= 2.0.7 =
Added parent image to variant products without image in rest response

= 2.0.6 =
Added image_link to products rest response

= 2.0.5 =
Bugfix: Prices reflect the correct taxes now

= 2.0.4 =
Minor bugfix

= 2.0.3 =
Fixed update bug

= 2.0.2 =
Fix a bug while showing the indexation failed message

= 2.0.1 =
Fix a bug in settings migration

= 2.0.0 =
Merged Doofinder and Doofinder for Woocommerce into a single plugin
